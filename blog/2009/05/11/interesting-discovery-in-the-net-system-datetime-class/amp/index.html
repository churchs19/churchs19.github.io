<!doctype html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="../index.html" >
    
    <title>Interesting Discovery in the .NET System.DateTime Class | Shane Church</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    
    
    
    
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BlogPosting",
            
            "headline": "Interesting Discovery in the .NET System.DateTime Class | Shane Church",
            
			
			"mainEntityOfPage":{
			    "@type":"WebPage",
			    "@id":"http://s-church.net/blog/2009/05/11/interesting-discovery-in-the-net-system-datetime-class/"
			},
			"datePublished": "2009-05-11T13:49:25.000Z",
			"dateModified": "2017-02-20T15:33:42.810Z",
			
			"image": {
				"@type": "ImageObject",
				"url": "\amp-dist\default-post.jpg",
				"width" : 512,
				"height" : 512
			},
			
			"author": {
			    "@type": "Person",
			    "name": "Shane Church"
			},
			"publisher": {
			    "@type": "Organization",
			    "name": "Shane Church"
			    
			    ,
			    "logo": {
			      "@type": "ImageObject",
			      "url": "http://s-church.net/http://s-church.net\amp-dist\SCLogo-purple_amp.png",
			      "width": 600,
			      "height": 60
			    }
			    
			}
		}
	</script>
	
	<style amp-custom>
		

@font-face {
    font-family: 'poiret_oneregular';
    src: url('/fonts/Poiret One regular-webfont.eot');
    src: url('/fonts/Poiret One regular-webfont.eot?#iefix') format('embedded-opentype'), url('/fonts/Poiret One regular-webfont.woff2') format('woff2'), url('/fonts/Poiret One regular-webfont.woff') format('woff'), url('/fonts/Poiret One regular-webfont.ttf') format('truetype'), url('/fonts/Poiret One regular-webfont.svg#poiret_oneregular') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'robotoregular';
    src: url('/fonts/Roboto regular-webfont.eot');
    src: url('/fonts/Roboto regular-webfont.eot?#iefix') format('embedded-opentype'), url('/fonts/Roboto regular-webfont.woff2') format('woff2'), url('/fonts/Roboto regular-webfont.woff') format('woff'), url('/fonts/Roboto regular-webfont.ttf') format('truetype'), url('/fonts/Roboto regular-webfont.svg#robotoregular') format('svg');
    font-weight: normal;
    font-style: normal;
}

/*#header:after,
.nav ul:after {
    content: "."
}
.entry-content ul,
ol,
ul {
    list-style: none
}
.article-nav-link-wrap,
code {
    text-shadow: 0 1px #fff
}
#page-nav a,
.article-nav-link-wrap,
a {
    text-decoration: none
}
#page-nav,
.article-nav-caption,
.nav {
    text-transform: uppercase
}
#footer:after,
#header:after,
.clearfix:after,
.nav ul:after {
    clear: both;
    visibility: hidden
}
a,
abbr,
acronym,
address,
applet,
big,
blockquote,
body,
caption,
cite,
code,
dd,
del,
dfn,
div,
dl,
dt,
em,
fieldset,
form,
h1,
h2,
h3,
h4,
h5,
h6,
html,
iframe,
img,
ins,
kbd,
label,
legend,
li,
object,
ol,
p,
pre,
q,
s,
samp,
small,
span,
strike,
strong,
sub,
sup,
table,
tbody,
td,
tfoot,
th,
thead,
tr,
tt,
ul,
var {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    font-weight: inherit;
    font-style: inherit;
    font-family: inherit;
    font-size: 100%;
    vertical-align: baseline
}
caption,
table,
td,
th {
    vertical-align: middle
}
table {
    border-collapse: separate;
    border-spacing: 0
}
caption,
td,
th {
    text-align: left;
    font-weight: 400
}
a img {
    border: none
}
button,
input {
    margin: 0;
    padding: 0
}
button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0
}
.boxCaption p,
code,
pre {
    -webkit-border-radius: 5px
}*/
html {
    font-family: 'robotoregular', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    font-family: 'robotoregular', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.5;
    font-weight: 300;
    font-size: 14px;
    color: #2a2a2f;
    background-color: #fff;
    -webkit-text-size-adjust: 100%;
    -webkit-overflow-scrolling: touch;
    -webkit-font-smoothing: antialiased;
}

.homeLink {
    background: #49488E;
    -webkit-border-radius: 3px;
    border-radius: 3px
}
.homeLink a {
    display: block;
    padding: 1em;
    text-align: center;
    color: #fff
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: 'poiret_oneregular';
    margin: 0;
    font-weight: 700;
    text-transform: uppercase;
    color: #49488E;
}

h1 {
    font-size: 2.0em;
}

h2 {
    font-size: 1.85em;
}

h3 {
    font-size: 1.5em;
}

h4 {
    font-size: 1.2em;
}

h5 {
    font-size: 1.0em;
}

h6 {
    font-size: 0.86em;
}

a {
    color: #49488E;
}

a {
    outline: none;
    cursor: pointer;
    text-decoration: none;
}

a:focus,
a:hover {
    outline: none;
    color: #49488E;
    text-decoration: none;
}


#container {
    padding: 12px;
}

#main {
    margin-top: 20px;
}

.article-header,
.article-meta {
    text-align: center;
}

.article-meta {
    font-size: 0.8em;
    color: #B1B0DA;
}

#article-nav {
    margin: 20px 0;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
}

.article-nav-link-wrap {
    text-align: center;
    font-size: 0.8em;
    flex: 1 1 50%;
}
.article-nav-link-wrap:first-child:not(:last-child) {
    border-right: 1px solid #B1B0DA;
}

.article-nav-caption {
    color: #B1B0DA;
}

.copyright {
    color: #B1B0DA;
    text-align: center;
    font-size: 0.7em;
}

hr.article-divider {
    width: 30%;
    margin: 20px auto;
}#hexo-amp-id-1{border-bottom: gray 1px solid; border-left: gray 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: consolas, 'Courier New', courier, monospace; max-height: 200px; font-size: 8pt; overflow: auto; border-top: gray 1px solid; cursor: text; border-right: gray 1px solid; padding-top: 4px}#hexo-amp-id-2{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-3{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-4{color: #606060}#hexo-amp-id-5{color: #0000ff}#hexo-amp-id-6{color: #0000ff}#hexo-amp-id-7{color: #0000ff}#hexo-amp-id-8{color: #0000ff}#hexo-amp-id-9{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-10{color: #606060}#hexo-amp-id-11{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-12{color: #606060}#hexo-amp-id-13{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-14{color: #606060}#hexo-amp-id-15{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-16{color: #606060}#hexo-amp-id-17{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-18{color: #606060}#hexo-amp-id-19{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-20{color: #606060}#hexo-amp-id-21{color: #0000ff}#hexo-amp-id-22{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-23{color: #606060}#hexo-amp-id-24{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-25{color: #606060}#hexo-amp-id-26{color: #0000ff}#hexo-amp-id-27{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-28{color: #606060}#hexo-amp-id-29{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-30{color: #606060}#hexo-amp-id-31{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-32{color: #606060}#hexo-amp-id-33{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-34{color: #606060}#hexo-amp-id-35{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-36{color: #606060}#hexo-amp-id-37{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-38{color: #606060}#hexo-amp-id-39{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-40{color: #606060}#hexo-amp-id-41{border-bottom: gray 1px solid; border-left: gray 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: consolas, 'Courier New', courier, monospace; max-height: 200px; font-size: 8pt; overflow: auto; border-top: gray 1px solid; cursor: text; border-right: gray 1px solid; padding-top: 4px}#hexo-amp-id-42{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-43{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-44{color: #606060}#hexo-amp-id-45{color: #0000ff}#hexo-amp-id-46{color: #0000ff}#hexo-amp-id-47{color: #0000ff}#hexo-amp-id-48{color: #0000ff}#hexo-amp-id-49{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-50{color: #606060}#hexo-amp-id-51{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-52{color: #606060}#hexo-amp-id-53{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-54{color: #606060}#hexo-amp-id-55{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-56{color: #606060}#hexo-amp-id-57{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-58{color: #606060}#hexo-amp-id-59{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-60{color: #606060}#hexo-amp-id-61{color: #0000ff}#hexo-amp-id-62{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-63{color: #606060}#hexo-amp-id-64{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-65{color: #606060}#hexo-amp-id-66{color: #0000ff}#hexo-amp-id-67{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-68{color: #606060}#hexo-amp-id-69{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-70{color: #606060}#hexo-amp-id-71{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-72{color: #606060}#hexo-amp-id-73{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-74{color: #606060}#hexo-amp-id-75{color: #0000ff}#hexo-amp-id-76{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-77{color: #606060}#hexo-amp-id-78{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-79{color: #606060}#hexo-amp-id-80{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-81{color: #606060}#hexo-amp-id-82{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-83{color: #606060}#hexo-amp-id-84{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-85{color: #606060}#hexo-amp-id-86{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-87{color: #606060}#hexo-amp-id-88{border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px}#hexo-amp-id-89{color: #606060}
	</style>
	
  </head>
  <body>
  	
  	<!-- google analytics -->
  	
  	<amp-analytics type="googleanalytics" id="google-analytics">
		<script type="application/json">
		{
		  "vars": {
		    "account": "UA-74778051-1"
		  },
		  "triggers": {
		    "trackPageview": {
		      "on": "visible",
		      "request": "pageview"
		    }
		  }
		}
		</script>
	</amp-analytics>
	
  	
  	<div id="container">
  	
  		<!-- title -->
	  	<header id="header">
	
	  		
	  		<div class="blog-title">
				<a href="/">
					<amp-img src="\amp-dist\SCLogo-purple_amp.png" width="600" height="60" layout="responsive">
					</amp-img>
				</a>
			</div>
			
			
		</header>
	  	
	  	
		<div id="main">	  	
			<article id="post-interesting-discovery-in-the-net-system-datetime-class" class="post">
				<header class="article-header">
					
						<h1 class="article-title entry-title" itemprop="name">
							Interesting Discovery in the .NET System.DateTime Class
						</h1>
					
				</header>

				<div class="article-meta">
					<div class="article-datetime">
						<time datetime="May 11 2009" itemprop="datePublished">May 11 2009</time>
					</div>
					                            
				</div>

				
				<div class="entry-image">
					<amp-img src="http://s-church.net\amp-dist\default-post.jpg" width="512" height="512" layout="responsive">
					</amp-img>
				</div>
				
				<!-- entry content -->
				<div class="entry-content ecp">
					<p>Unlike most of my posts here, this one is going to get a little technical.  While working on a new application to display upcoming birthdays from my Outlook contacts on the new Windows Mobile 6.1 sliding panels home screen, I had a bug that was resulting in one birthday on April 29 displaying in the sorted list between two April 30 birthdays.  Wierd! </p>
<p>Let’s see if you can spot the “feature” in the following code:</p>
<div id="hexo-amp-id-1"   ><br><br><div id="hexo-amp-id-2"   ><br><br><pre id="hexo-amp-id-3"   > <span id="hexo-amp-id-4"   >1:</span> <span id="hexo-amp-id-5"   >public</span> AnniversaryItem(<span id="hexo-amp-id-6"   >string</span> firstName, <span id="hexo-amp-id-7"   >string</span> lastName, DateTime date, AnniversaryItemType type, <span id="hexo-amp-id-8"   >string</span> id)</pre><br><br><pre id="hexo-amp-id-9"   > <span id="hexo-amp-id-10"   >2:</span> {</pre><br><br><pre id="hexo-amp-id-11"   > <span id="hexo-amp-id-12"   >3:</span>     FirstName = firstName;</pre><br><br><pre id="hexo-amp-id-13"   > <span id="hexo-amp-id-14"   >4:</span>     LastName = lastName;</pre><br><br><pre id="hexo-amp-id-15"   > <span id="hexo-amp-id-16"   >5:</span>     Date = date;</pre><br><br><pre id="hexo-amp-id-17"   > <span id="hexo-amp-id-18"   >6:</span>     ItemType = type;</pre><br><br><pre id="hexo-amp-id-19"   > <span id="hexo-amp-id-20"   >7:</span>     Picture = <span id="hexo-amp-id-21"   >null</span>;</pre><br><br><pre id="hexo-amp-id-22"   > <span id="hexo-amp-id-23"   >8:</span>     NumDaysUntilDate = Date.DayOfYear - DateTime.Today.DayOfYear;</pre><br><br><pre id="hexo-amp-id-24"   > <span id="hexo-amp-id-25"   >9:</span>     <span id="hexo-amp-id-26"   >if</span> (NumDaysUntilDate &lt; 0)</pre><br><br><pre id="hexo-amp-id-27"   > <span id="hexo-amp-id-28"   >10:</span>         NumDaysUntilDate += 365;</pre><br><br><pre id="hexo-amp-id-29"   > <span id="hexo-amp-id-30"   >11:</span>  </pre><br><br><pre id="hexo-amp-id-31"   > <span id="hexo-amp-id-32"   >12:</span>     DateTime nextDate = DateTime.Today.AddDays(NumDaysUntilDate);</pre><br><br><pre id="hexo-amp-id-33"   > <span id="hexo-amp-id-34"   >13:</span>     Years = nextDate.Year - Date.Year;</pre><br><br><pre id="hexo-amp-id-35"   > <span id="hexo-amp-id-36"   >14:</span>  </pre><br><br><pre id="hexo-amp-id-37"   > <span id="hexo-amp-id-38"   >15:</span>     OutlookId = id;</pre><br><br><pre id="hexo-amp-id-39"   > <span id="hexo-amp-id-40"   >16:</span> }</pre><br><br></div>

<p></p></div><p></p>
<p>The relevant line here is line 8.  And here’s where the interesting stuff happens:  What I’m doing here is finding out how many days it will be until the next occurrence of the birthday or anniversary, so I subtracted the DayOfYear property of today from the DayOfYear property of the anniversary then added 365 if the answer was negative. </p>
<p>So why was April 29 showing up between two April 30 birthdays?  Well it turns out that the DayOfYear property is leap year aware!  The three birthdays were April 29, 1980, April 30, 1980, and April 30, 1990.  In this scenario, 1980 is a leap year.  In the leap year we add a day on February 29.  What happens here is that April 30, 1990 is day 120 of the year 1990.  April 29 of 1980 is day 120 of 1980 and April 30 is day 121 of 1980.  So when you sort by the DayOfYear, you get April 30, 1990, April 29, 1980, and then April 30, 1980.  Very clever on Microsoft’s part and very confusing if you’re not aware of the consequences!</p>
<p>The solution is as follows (lines 9-12):</p>
<div id="hexo-amp-id-41"   ><br><br><div id="hexo-amp-id-42"   ><br><br><pre id="hexo-amp-id-43"   > <span id="hexo-amp-id-44"   >1:</span> <span id="hexo-amp-id-45"   >public</span> AnniversaryItem(<span id="hexo-amp-id-46"   >string</span> firstName, <span id="hexo-amp-id-47"   >string</span> lastName, DateTime date, AnniversaryItemType type, <span id="hexo-amp-id-48"   >string</span> id)</pre><br><br><pre id="hexo-amp-id-49"   > <span id="hexo-amp-id-50"   >2:</span> {</pre><br><br><pre id="hexo-amp-id-51"   > <span id="hexo-amp-id-52"   >3:</span>     FirstName = firstName;</pre><br><br><pre id="hexo-amp-id-53"   > <span id="hexo-amp-id-54"   >4:</span>     LastName = lastName;</pre><br><br><pre id="hexo-amp-id-55"   > <span id="hexo-amp-id-56"   >5:</span>     Date = date;</pre><br><br><pre id="hexo-amp-id-57"   > <span id="hexo-amp-id-58"   >6:</span>     ItemType = type;</pre><br><br><pre id="hexo-amp-id-59"   > <span id="hexo-amp-id-60"   >7:</span>     Picture = <span id="hexo-amp-id-61"   >null</span>;</pre><br><br><pre id="hexo-amp-id-62"   > <span id="hexo-amp-id-63"   >8:</span>     NumDaysUntilDate = Date.DayOfYear - DateTime.Today.DayOfYear;</pre><br><br><pre id="hexo-amp-id-64"   > <span id="hexo-amp-id-65"   >9:</span>     <span id="hexo-amp-id-66"   >if</span> (((DateTime.IsLeapYear(Date.Year) &amp;&amp; !DateTime.IsLeapYear(DateTime.Today.Year)) ||</pre><br><br><pre id="hexo-amp-id-67"   > <span id="hexo-amp-id-68"   >10:</span>         (!DateTime.IsLeapYear(Date.Year) &amp;&amp; DateTime.IsLeapYear(DateTime.Today.Year))) &amp;&amp;</pre><br><br><pre id="hexo-amp-id-69"   > <span id="hexo-amp-id-70"   >11:</span>         Date.DayOfYear &gt;= 60)</pre><br><br><pre id="hexo-amp-id-71"   > <span id="hexo-amp-id-72"   >12:</span>         NumDaysUntilDate–;</pre><br><br><pre id="hexo-amp-id-73"   > <span id="hexo-amp-id-74"   >13:</span>     <span id="hexo-amp-id-75"   >if</span> (NumDaysUntilDate &lt; 0)</pre><br><br><pre id="hexo-amp-id-76"   > <span id="hexo-amp-id-77"   >14:</span>         NumDaysUntilDate += 365;</pre><br><br><pre id="hexo-amp-id-78"   > <span id="hexo-amp-id-79"   >15:</span>  </pre><br><br><pre id="hexo-amp-id-80"   > <span id="hexo-amp-id-81"   >16:</span>     DateTime nextDate = DateTime.Today.AddDays(NumDaysUntilDate);</pre><br><br><pre id="hexo-amp-id-82"   > <span id="hexo-amp-id-83"   >17:</span>     Years = nextDate.Year - Date.Year;</pre><br><br><pre id="hexo-amp-id-84"   > <span id="hexo-amp-id-85"   >18:</span>  </pre><br><br><pre id="hexo-amp-id-86"   > <span id="hexo-amp-id-87"   >19:</span>     OutlookId = id;</pre><br><br><pre id="hexo-amp-id-88"   > <span id="hexo-amp-id-89"   >20:</span> }</pre><br><br></div>

<p></p></div><p></p>
<p>What I ended up doing to correct this situation is check to see if one of the two years being compared is a leap year.  In addition, I check to see if the date is after a theoretical February 29.  If one of the two years is a leap year and the date is after February 29, I subtract one from the calculated number of days until the anniversary to correct the sorting issue for the leap year.</p>
<p>Just one more example of why date math can be very challenging!</p>

				</div>
			</article>
		  	
		  <hr class="article-divider"/>
		  	
			<div class="homeLink">
				<a href="/">HOME</a>
			</div>
		  	
			<!-- article nav -->
			
			<nav id="article-nav">
			  
			    <a href="/blog/2009/05/06/2009-home-run-for-the-homeless/amp/index.html" id="article-nav-older" class="article-nav-link-wrap">
			      <strong class="article-nav-caption">Older</strong>
			      <div class="article-nav-title">
			        
			          2009 Home Run for the Homeless
			        
			      </div>
			    </a>
			  
			  
			    <a href="/blog/2009/05/12/windows-7-ndash-first-impressions/amp/index.html" id="article-nav-newer" class="article-nav-link-wrap">
			      <strong class="article-nav-caption">Newer</strong>
			      <div class="article-nav-title">
			        
			          Windows 7 – First Impressions
			        
			      </div>
			    </a>
			  
			</nav>
			
			
		</div>
		
		<footer id="footer">
				<div class="copyright">
					&copy; 2017&nbsp;Shane Church
				</div>
		</footer>
	</div>
  	
  </body>
</html>